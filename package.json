{
  "name": "@deep-foundation/dev",
  "version": "0.0.20",
  "author": "ivansglazunov",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/deep-foundation/dev/issues"
  },
  "homepage": "https://github.com/deep-foundation/dev#readme",
  "scripts": {
    "parentScript": "cross-env GREET=\"QWE\" cross-env-shell \"echo Hello $GREET\"",
    "childScript": "cross-env-shell \"echo Hello $GREET\"",
    "gulp": "gulp",
    "test": "(cd packages/deepcase && npx fkill :3006)",
    "gitpod-prepare": "npm run git-shh-to-https && (yes | sudo apt install screen) && (yes | sudo apt install rsync) && (yes | sudo apt install net-tools) && screen -S docker -d -m sudo docker-up",
    "packages": "(npx gulp packages:get) && (npm run packages-ci)",
    "packages-ci": "(cd packages && for d in */; do (cd $d && npm ci); done)",
    "deepcase": "(cd packages/deepcase && npm run dev -- -p 3007)",
    "deepcase-build": "cross-env ASSET_PREFIX='.' npm run deepcase-build-core",
    "deepcase-build-core": "cd packages/deepcase && npm run build && npm run export",
    "deepcase-electron": "cd packages/deepcase && rm -rf ./electron/out && cp -r ./out ./electron/out && npm run electron-dev",
    "deeplinks": "cd packages/deeplinks && npm run dev",
    "local": "cross-env npm_config_yes=true NEXT_PUBLIC_ENGINES=1 NEXT_PUBLIC_HIDEPATH=1 JWT_SECRET=\"{\\\"type\\\":\\\"HS256\\\",\\\"key\\\":\\\"3EK6FD+o0+c7tzBNVfjpMkNDi2yARAAKzQlk8O2IKoxQu4nF7EdAh8s3TwpHwrdWT6R\\\"}\" MIGRATIONS_ID_TYPE_SQL=bigint MIGRATIONS_ID_TYPE_GQL=bigint MIGRATIONS_HASURA_PATH=localhost:8080 MIGRATIONS_HASURA_SSL=0 MIGRATIONS_HASURA_SECRET=myadminsecretkey DEEPLINKS_HASURA_PATH=localhost:8080 DEEPLINKS_HASURA_SSL=0 DEEPLINKS_HASURA_SECRET=myadminsecretkey NEXT_PUBLIC_DEEPLINKS_SERVER=http://localhost:3007 NEXT_PUBLIC_GQL_PATH=localhost:3006/gql NEXT_PUBLIC_GQL_SSL=0 DEEPLINKS_HASURA_PATH=localhost:8080 DEEPLINKS_HASURA_SSL=0 MIGRATIONS_DEEPLINKS_APP_URL=http://host.docker.internal:3007 MIGRATIONS_DEEPLINKS_URL=http://host.docker.internal:3006 DEEPLINKS_PUBLIC_URL=http://localhost:3006 DOCKER_DEEPLINKS_URL=http://host.docker.internal:3006 npm run local-core",
    "local-core": "concurrently \"npm run deepcase\" \"npm run deeplinks\" \"npm run local-engine\"",
    "local-engine": "cd packages/deeplinks && npm run start-engine-docker",
    "electron-dev": "(cross-env npm_config_yes=true NEXT_PUBLIC_ENGINES=1 MIGRATIONS_ID_TYPE_SQL=bigint MIGRATIONS_ID_TYPE_GQL=bigint MIGRATIONS_HASURA_PATH=localhost:8080 MIGRATIONS_HASURA_SSL=0 MIGRATIONS_HASURA_SECRET=myadminsecretkey NEXT_PUBLIC_DEEPLINKS_SERVER=http://localhost:3007 NEXT_PUBLIC_GQL_PATH=localhost:3006/gql NEXT_PUBLIC_GQL_SSL=0 DEEPLINKS_HASURA_PATH=localhost:8080 DEEPLINKS_HASURA_SSL=0 MIGRATIONS_DEEPLINKS_APP_URL=http://host.docker.internal:3007 MIGRATIONS_DEEPLINKS_URL=http://host.docker.internal:3006 npm run electron-dev-core)",
    "electron-dev-core": " npm run deepcase-electron",
    "electron-build-unix": "(cross-env MIGRATIONS_DIR=/tmp/.deep-migrate && npm run electron-build)",
    "electron-build-windows": "(cross-env MIGRATIONS_DIR=.migrate && npm run electron-build)",
    "electron-build": "(cross-env npm_config_yes=true NEXT_PUBLIC_ENGINES=1 MIGRATIONS_ID_TYPE_SQL=bigint MIGRATIONS_ID_TYPE_GQL=bigint MIGRATIONS_HASURA_PATH=localhost:8080 MIGRATIONS_HASURA_SSL=0 MIGRATIONS_HASURA_SECRET=myadminsecretkey NEXT_PUBLIC_DEEPLINKS_SERVER=http://localhost:3007 NEXT_PUBLIC_GQL_PATH=localhost:3006/gql NEXT_PUBLIC_GQL_SSL=0 DEEPLINKS_HASURA_PATH=localhost:8080 DEEPLINKS_HASURA_SSL=0 MIGRATIONS_DEEPLINKS_APP_URL=http://host.docker.internal:3007 MIGRATIONS_DEEPLINKS_URL=http://host.docker.internal:3006 npm run electron-build-core)",
    "electron-build-core": "npm run apply-hasura && npm run apply-deeplinks && npm run deepcase-build && npm run electron-build-pack",
    "electron-build-pack": "(cd packages/deepcase && rm -rf electron/app && npx cap copy electron && cd electron && npm run electron:pack)",
    "gitpod-init": "npm run gitpod-prepare && npm ci && npm run packages && npm run apply-hasura && npm run apply-deeplinks",
    "gitpod-start": "export NEXT_PUBLIC_ENGINES=0; export NEXT_PUBLIC_HIDEPATH=1; export npm_config_yes=true; export JWT_SECRET=\"{\\\"type\\\":\\\"HS256\\\",\\\"key\\\":\\\"3EK6FD+o0+c7tzBNVfjpMkNDi2yARAAKzQlk8O2IKoxQu4nF7EdAh8s3TwpHwrdWT6R\\\"}\" export MIGRATIONS_ID_TYPE_SQL=bigint; export MIGRATIONS_ID_TYPE_GQL=bigint; export MIGRATIONS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export DEEPLINKS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export MIGRATIONS_HASURA_SSL=1; export DEEPLINKS_HASURA_SSL=1; export MIGRATIONS_HASURA_SECRET=myadminsecretkey; export DEEPLINKS_HASURA_SECRET=myadminsecretkey;  export NEXT_PUBLIC_DEEPLINKS_SERVER=https://$(echo $(gp url 3007) | awk -F[/:] '{print $4}'); export NEXT_PUBLIC_GQL_PATH=$(echo $(gp url 3006) | awk -F[/:] '{print $4}')/gql; export NEXT_PUBLIC_GQL_SSL=1 DEEPLINKS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export DEEPLINKS_HASURA_SSL=1; export MIGRATIONS_DEEPLINKS_APP_URL=$(gp url 3007); export MIGRATIONS_DEEPLINKS_URL=$(gp url 3006); export DEEPLINKS_PUBLIC_URL=$(gp url 3006); export DOCKER_DEEPLINKS_URL=http://host.docker.internal:3006; concurrently \"npm run deepcase\" \"npm run deeplinks\" \"npm run gitpod-engine\" \"npm run nextjs\"",
    "gitpod-engine": "cd packages/deeplinks && npm run start-engine-docker",
    "gitpod-wakeup": "export NEXT_PUBLIC_ENGINES=0; export NEXT_PUBLIC_HIDEPATH=1; export npm_config_yes=true; export JWT_SECRET=\"{\\\"type\\\":\\\"HS256\\\",\\\"key\\\":\\\"3EK6FD+o0+c7tzBNVfjpMkNDi2yARAAKzQlk8O2IKoxQu4nF7EdAh8s3TwpHwrdWT6R\\\"}\" export MIGRATIONS_ID_TYPE_SQL=bigint; export MIGRATIONS_ID_TYPE_GQL=bigint; export MIGRATIONS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export DEEPLINKS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export MIGRATIONS_HASURA_SSL=1; export DEEPLINKS_HASURA_SSL=1; export MIGRATIONS_HASURA_SECRET=myadminsecretkey; export DEEPLINKS_HASURA_SECRET=myadminsecretkey;  export NEXT_PUBLIC_DEEPLINKS_SERVER=https://$(echo $(gp url 3007) | awk -F[/:] '{print $4}'); export NEXT_PUBLIC_GQL_PATH=$(echo $(gp url 3006) | awk -F[/:] '{print $4}')/gql; export NEXT_PUBLIC_GQL_SSL=1 DEEPLINKS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export DEEPLINKS_HASURA_SSL=1; export MIGRATIONS_DEEPLINKS_APP_URL=$(gp url 3007); export MIGRATIONS_DEEPLINKS_URL=$(gp url 3006); export DEEPLINKS_PUBLIC_URL=$(gp url 3006); export DOCKER_DEEPLINKS_URL=http://host.docker.internal:3006; npm run apply-deeplinks && concurrently \"npm run deepcase\" \"npm run deeplinks\" \"(cd packages/deeplinks && npm run start-engine-docker)\"",
    "gitpod-migrate": "export NEXT_PUBLIC_ENGINES=0; export NEXT_PUBLIC_HIDEPATH=1; export npm_config_yes=true; export JWT_SECRET=\"{\\\"type\\\":\\\"HS256\\\",\\\"key\\\":\\\"3EK6FD+o0+c7tzBNVfjpMkNDi2yARAAKzQlk8O2IKoxQu4nF7EdAh8s3TwpHwrdWT6R\\\"}\" export MIGRATIONS_ID_TYPE_SQL=bigint; export MIGRATIONS_ID_TYPE_GQL=bigint; export MIGRATIONS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export DEEPLINKS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export MIGRATIONS_HASURA_SSL=1; export DEEPLINKS_HASURA_SSL=1; export MIGRATIONS_HASURA_SECRET=myadminsecretkey; export DEEPLINKS_HASURA_SECRET=myadminsecretkey;  export NEXT_PUBLIC_DEEPLINKS_SERVER=https://$(echo $(gp url 3007) | awk -F[/:] '{print $4}'); export NEXT_PUBLIC_GQL_PATH=$(echo $(gp url 3006) | awk -F[/:] '{print $4}')/gql; export NEXT_PUBLIC_GQL_SSL=1 DEEPLINKS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export DEEPLINKS_HASURA_SSL=1; export MIGRATIONS_DEEPLINKS_APP_URL=$(gp url 3007); export MIGRATIONS_DEEPLINKS_URL=$(gp url 3006); export DEEPLINKS_PUBLIC_URL=$(gp url 3006); export DOCKER_DEEPLINKS_URL=http://host.docker.internal:3006; cd packages/deeplinks && npm run migrate",
    "gitpod-unmigrate": "export NEXT_PUBLIC_ENGINES=0; export NEXT_PUBLIC_HIDEPATH=1; export npm_config_yes=true; export JWT_SECRET=\"{\\\"type\\\":\\\"HS256\\\",\\\"key\\\":\\\"3EK6FD+o0+c7tzBNVfjpMkNDi2yARAAKzQlk8O2IKoxQu4nF7EdAh8s3TwpHwrdWT6R\\\"}\" export MIGRATIONS_ID_TYPE_SQL=bigint; export MIGRATIONS_ID_TYPE_GQL=bigint; export MIGRATIONS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export DEEPLINKS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export MIGRATIONS_HASURA_SSL=1; export DEEPLINKS_HASURA_SSL=1; export MIGRATIONS_HASURA_SECRET=myadminsecretkey; export DEEPLINKS_HASURA_SECRET=myadminsecretkey;  export NEXT_PUBLIC_DEEPLINKS_SERVER=https://$(echo $(gp url 3007) | awk -F[/:] '{print $4}'); export NEXT_PUBLIC_GQL_PATH=$(echo $(gp url 3006) | awk -F[/:] '{print $4}')/gql; export NEXT_PUBLIC_GQL_SSL=1 DEEPLINKS_HASURA_PATH=$(echo $(gp url 8080) | awk -F[/:] '{print $4}'); export DEEPLINKS_HASURA_SSL=1; export MIGRATIONS_DEEPLINKS_APP_URL=$(gp url 3007); export MIGRATIONS_DEEPLINKS_URL=$(gp url 3006); export DEEPLINKS_PUBLIC_URL=$(gp url 3006); export DOCKER_DEEPLINKS_URL=http://host.docker.internal:3006; cd packages/deeplinks && npm run unmigrate",
    "local-migrate": "export NEXT_PUBLIC_ENGINES=0; export NEXT_PUBLIC_HIDEPATH=1; export npm_config_yes=true; export JWT_SECRET=\"{\\\"type\\\":\\\"HS256\\\",\\\"key\\\":\\\"3EK6FD+o0+c7tzBNVfjpMkNDi2yARAAKzQlk8O2IKoxQu4nF7EdAh8s3TwpHwrdWT6R\\\"}\"; export MIGRATIONS_ID_TYPE_SQL=bigint; export MIGRATIONS_ID_TYPE_GQL=bigint; export MIGRATIONS_HASURA_PATH=localhost:8080; export MIGRATIONS_HASURA_SSL=0; export MIGRATIONS_HASURA_SECRET=myadminsecretkey; export NEXT_PUBLIC_DEEPLINKS_SERVER=http://localhost:3007; export NEXT_PUBLIC_GQL_PATH=localhost:3006/gql; export NEXT_PUBLIC_GQL_SSL=0 DEEPLINKS_HASURA_PATH=localhost:8080; export DEEPLINKS_HASURA_SSL=0; export MIGRATIONS_DEEPLINKS_APP_URL=http://host.docker.internal:3007 export MIGRATIONS_DEEPLINKS_URL=http://host.docker.internal:3006; cd packages/deeplinks && npm run migrate",
    "local-unmigrate": "export NEXT_PUBLIC_ENGINES=0; export NEXT_PUBLIC_HIDEPATH=1; export npm_config_yes=true; export JWT_SECRET=\"{\\\"type\\\":\\\"HS256\\\",\\\"key\\\":\\\"3EK6FD+o0+c7tzBNVfjpMkNDi2yARAAKzQlk8O2IKoxQu4nF7EdAh8s3TwpHwrdWT6R\\\"}\" export MIGRATIONS_ID_TYPE_SQL=bigint; export MIGRATIONS_ID_TYPE_GQL=bigint; export MIGRATIONS_HASURA_PATH=localhost:8080; export MIGRATIONS_HASURA_SSL=0; export MIGRATIONS_HASURA_SECRET=myadminsecretkey; export NEXT_PUBLIC_DEEPLINKS_SERVER=http://localhost:3007; export NEXT_PUBLIC_GQL_PATH=localhost:3006/gql; export NEXT_PUBLIC_GQL_SSL=0 DEEPLINKS_HASURA_PATH=localhost:8080; export DEEPLINKS_HASURA_SSL=0; export MIGRATIONS_DEEPLINKS_APP_URL=http://host.docker.internal:3007 export MIGRATIONS_DEEPLINKS_URL=http://host.docker.internal:3006; cd packages/deeplinks && npm run unmigrate",
    "rm-migrates": "find . -type f -name '.migrate' -exec rm {} +",
    "git-shh-to-https": "git config --global url.\"https://\".insteadOf git:// && git config --global url.\"https://github.com/\".insteadOf ssh://git@github.com/",
    "apply-deeplinks": "(rm -rf ./packages/deepcase/app && cd packages/deeplinks && npm ci && npm run package:build && cd ../../ && npm run apply-deeplinks-deepcase && (npm run apply-deeplinks-electron || true) && cd packages/deeplinks && npm run package:unbuild)",
    "apply-deeplinks-deepcase": "rm -rf packages/deepcase/node_modules/@deep-foundation/deeplinks/imports && rm -rf packages/deepcase/node_modules/@deep-foundation/deeplinks/migrations && rm -rf packages/deepcase/node_modules/@deep-foundation/deeplinks/local && rm -rf packages/deepcase/node_modules/@deep-foundation/deeplinks/index.* && rm -rf packages/deepcase/node_modules/@deep-foundation/deeplinks/package.json && cp -r packages/deeplinks/imports packages/deepcase/node_modules/@deep-foundation/deeplinks/imports && cp -r packages/deeplinks/migrations packages/deepcase/node_modules/@deep-foundation/deeplinks/migrations && cp -r packages/deeplinks/local packages/deepcase/node_modules/@deep-foundation/deeplinks/local && cp packages/deeplinks/index.* packages/deepcase/node_modules/@deep-foundation/deeplinks/ && cp packages/deeplinks/package.json packages/deepcase/node_modules/@deep-foundation/deeplinks/package.json",
    "apply-deeplinks-electron": "rm -rf packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/imports && rm -rf packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/migrations && rm -rf packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/local && rm -rf packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/index.* && rm -rf packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/package.json && cp -r packages/deeplinks/imports packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/imports && cp -r packages/deeplinks/migrations packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/migrations && cp -r packages/deeplinks/local packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/local && cp packages/deeplinks/index.* packages/deepcase/electron/node_modules/@deep-foundation/deeplinks/ && cp packages/deeplinks/package*.json packages/deepcase/electron/node_modules/@deep-foundation/deeplinks && cp -r packages/deeplinks/node_modules packages/deepcase/electron/node_modules/@deep-foundation/deeplinks",
    "rm-hasura": "rm -rf ./packages/deepcase/node_modules/@deep-foundation/hasura && rm -rf ./packages/deeplinks/node_modules/@deep-foundation/hasura && rm -rf ./packages/materialized-path/node_modules/@deep-foundation/hasura && rm -rf ./packages/deepcase/electron/node_modules/@deep-foundation/hasura",
    "cp-hasura": "(cd ./packages/hasura && npm ci && npm run package:build && cd ../..) && (cp -r ./packages/hasura/ ./packages/deepcase/electron/node_modules/@deep-foundation/hasura || true) && rm -rf ./packages/hasura/node_modules && (cp -r ./packages/hasura/ ./packages/deepcase/node_modules/@deep-foundation/hasura || true) && (cp -r ./packages/hasura/ ./packages/deeplinks/node_modules/@deep-foundation/hasura || true) && (cp -r ./packages/hasura/ ./packages/materialized-path/node_modules/@deep-foundation/hasura || true) && (cd ./packages/hasura && npm ci && npm run package:unbuild && cd ../..)",
    "apply-hasura": "npm run rm-hasura && npm run cp-hasura",
    "pull-ci-apply": "(cd packages/hasura; git pull; npm ci); (cd packages/deeplinks; git pull; npm ci); (cd packages/deepcase; git pull; npm ci); (cd packages/deepcase/electron; npm ci); git pull && npm run apply-hasura && npm run apply-deeplinks",
    "nextjs": "(cd packages/nextjs; npm ci; PORT=4000 npm run dev)"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/deep-foundation/dev.git"
  },
  "type": "module",
  "devDependencies": {
    "@types/gulp": "^4.0.8",
    "concurrently": "^5.3.0",
    "cross-env": "^7.0.3",
    "del": "^6.0.0",
    "gulp": "^4.0.2",
    "gulp-run-command": "^0.0.10",
    "i": "^0.3.6",
    "minimist": "^1.2.5",
    "npm": "^7.5.4",
    "simple-git": "^2.45.0",
    "ts-node": "^9.1.1",
    "typescript": "^4.1.5"
  },
  "dependencies": {
    "@deep-foundation/deeplinks": "0.0.55",
    "prompt": "^1.2.0",
    "rimraf": "^3.0.2"
  }
}
